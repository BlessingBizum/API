<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
</head>
<body>
    <h1>Phoenix_Register</h1>
    <input type="text" id="name" placeholder="name">
    <input type="email" id="email" placeholder="email">
    <input type="password" id="password" placeholder="password">
    <input type="text" id="team" placeholder="team">

    <button id="registerButton">Register here</button>
    <div id="result"></div>



    <script>

      let register = document.getElementById("registerButton")
      let result = document.getElementById("result")

      register.addEventListener('click', (e) => {
        e.preventDefault

        let registerData = {
          name: document.getElementById("name").value,
          email: document.getElementById("email").value,
          password: document.getElementById("password").value,
          team_name: document.getElementById("team").value
        }

        fetch('https://test.blockfuselabs.com/api/register', {
          method: "POST",
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(registerData)
        })
        .then((res) => {
          if(!res.ok){
            throw new Error(`HTTP error! status: ${res.status}`)
          }
          return response.json()
        })
        .then(data => {
          console.log('Registration successful:', data)
          result.textContent = 'Registration successful!'
        })
        .catch(error => {
          console.error('Registrattion failed', error)
          result.textContent ='Registration failed'
        })
      })

      

  //      fetch("https://test.blockfuselabs.com/api/register",{
  //       method: "POST",
  //       headers: {
  //           Accept: "application/json"

  //       },
  //       body: JSON.stringify({
            
  //       })
  //      })
  // .then((response) => response.json())
  // .then((data) => {
  //   let data = JSON.stringify({
  //   Name: name,
  //   Email: email,
  //   Passport: password,
  //   Team: team
  // });
  // })
  // .catch((error) => {
  //   console.error("Fetch error:", error);
  // });

        
    </script>
</body>
</html>